---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PageHero from '../../components/shared/PageHero.astro';
import CTASection from '../../components/shared/CTASection.astro';
import AnimatedSection from '../../components/shared/AnimatedSection.tsx';
---

<BaseLayout title="Frameworks" description="Support for NIS2, ISO 27001, NIST CSF 2.0, CIS Controls v8, and custom frameworks — all in one platform with cross-framework mapping.">
  <PageHero title="One Platform, Every Framework" subtitle="Enable multiple compliance frameworks, map controls across standards, and eliminate duplicate work." dark />

  <!-- Supported Frameworks -->
  <section class="py-20 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <AnimatedSection client:visible>
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-text-primary mb-4">Supported Frameworks</h2>
          <p class="text-text-muted max-w-2xl mx-auto">Enable the frameworks that matter to your organization. Add more as your compliance requirements evolve.</p>
        </div>
      </AnimatedSection>

      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {[
          { name: 'NIS2 Directive', subtitle: 'EU Directive 2022/2555', desc: 'Critical infrastructure cybersecurity for essential and important entities across the EU.', color: 'primary' },
          { name: 'ISO 27001', subtitle: 'ISO/IEC 27001:2022', desc: 'International standard for information security management systems (ISMS).', color: 'secondary' },
          { name: 'NIST CSF 2.0', subtitle: 'Cybersecurity Framework', desc: 'US framework for managing cybersecurity risk across Govern, Identify, Protect, Detect, Respond, Recover.', color: 'success' },
          { name: 'CIS Controls v8', subtitle: 'Center for Internet Security', desc: 'Prioritized set of safeguards to mitigate the most common cyber attacks.', color: 'warning' },
        ].map((fw, i) => (
          <AnimatedSection client:visible delay={i * 0.1}>
            <div class="bg-white rounded-[12px] p-6 shadow-card hover:shadow-card-hover transition-shadow h-full border-t-4 border-{fw.color}">
              <h3 class="text-lg font-bold text-text-primary mb-1">{fw.name}</h3>
              <p class="text-xs text-text-muted font-mono mb-3">{fw.subtitle}</p>
              <p class="text-sm text-text-muted leading-relaxed">{fw.desc}</p>
            </div>
          </AnimatedSection>
        ))}
      </div>

      <AnimatedSection client:visible>
        <div class="mt-8 text-center">
          <div class="inline-flex items-center gap-2 bg-white rounded-full px-5 py-2.5 shadow-card text-sm">
            <svg class="w-4 h-4 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" /></svg>
            <span class="text-text-muted">Plus <strong class="text-text-primary">custom frameworks</strong> — build your own with our framework builder.</span>
          </div>
        </div>
      </AnimatedSection>
    </div>
  </section>

  <!-- Cross-Framework Mapping -->
  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <AnimatedSection client:visible>
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-2xl font-bold text-text-primary mb-4">Cross-Framework Control Mapping</h2>
            <p class="text-text-muted leading-relaxed mb-6">
              Implement a control once, satisfy requirements across multiple frameworks. AI-powered mapping identifies equivalences between NIS2, ISO 27001, NIST CSF, and CIS Controls — reducing effort by up to 60%.
            </p>
            <div class="space-y-4">
              {[
                'Automatic equivalence detection via AI',
                'Visual mapping dashboard',
                'Coverage gap identification',
                'Unified control implementation tracking',
              ].map((f) => (
                <div class="flex items-center gap-3 text-sm text-text-primary">
                  <svg class="w-5 h-5 text-success shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                  {f}
                </div>
              ))}
            </div>
          </div>
          <!-- Mapping visualization -->
          <div class="bg-background rounded-2xl border border-border p-6">
            <div class="space-y-3">
              {[
                { from: 'NIS2 Art. 21(2)(a)', to: ['ISO A.5.1', 'NIST GV.PO-01', 'CIS 1'] },
                { from: 'NIS2 Art. 21(2)(b)', to: ['ISO A.5.23', 'NIST ID.RA-01', 'CIS 16'] },
                { from: 'NIS2 Art. 21(2)(d)', to: ['ISO A.8.9', 'NIST PR.DS-01', 'CIS 3'] },
              ].map((mapping) => (
                <div class="bg-white rounded-lg p-3 border border-border">
                  <div class="text-xs font-mono font-medium text-primary mb-2">{mapping.from}</div>
                  <div class="flex flex-wrap gap-1.5">
                    {mapping.to.map((t: string) => (
                      <span class="inline-flex items-center text-xs bg-secondary-50 text-secondary-700 rounded px-2 py-0.5 font-mono">{t}</span>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </AnimatedSection>
    </div>
  </section>

  <CTASection title="Enable Your Frameworks" subtitle="Start with one framework. Add more as you grow." />
</BaseLayout>
