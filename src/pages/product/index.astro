---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PageHero from '../../components/shared/PageHero.astro';
import CTASection from '../../components/shared/CTASection.astro';
import AnimatedSection from '../../components/shared/AnimatedSection.tsx';
---

<BaseLayout title="Product" description="Explore the Metis GRC platform — unified framework engine, AI copilots, risk management, vendor assessment, and compliance dashboards.">
  <PageHero title="Everything You Need for Cybersecurity GRC" subtitle="A complete platform that unifies frameworks, risks, controls, evidence, and reporting — powered by AI." dark />

  <section class="py-20 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="space-y-16">
        {[
          {
            title: 'Multi-Framework Engine',
            desc: 'Enable NIS2, ISO 27001, NIST CSF 2.0, CIS Controls, or build custom frameworks. Map controls across standards, identify overlaps, and eliminate redundant work.',
            href: '/product/frameworks',
            icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
            color: 'primary',
            features: ['NIS2, ISO, NIST, CIS support', 'Cross-framework control mapping', 'Custom framework builder', 'Obligation tracking'],
          },
          {
            title: 'AI Copilots',
            desc: 'Nine AI assistants embedded across the platform. From regulatory Q&A to predictive gap analysis — AI handles the heavy lifting so your team can focus on decisions.',
            href: '/product/ai',
            icon: 'M13 10V3L4 14h7v7l9-11h-7z',
            color: 'secondary',
            features: ['Regulatory Q&A', 'Evidence classification', 'Cross-framework mapping', 'Report generation'],
          },
          {
            title: 'Risk & Control Management',
            desc: 'Enterprise, IT, vendor, and project risk registers. Centralized control library with implementation tracking, evidence linking, and gap analysis.',
            href: '/product',
            icon: 'M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z',
            color: 'warning',
            features: ['Risk registers with scoring', 'Treatment plan workflows', 'Control status tracking', 'Heat maps & dashboards'],
          },
          {
            title: 'NIS2 Compliance',
            desc: 'Purpose-built NIS2 module with country-specific applicability wizard, obligations catalog, incident workflows with 24h/72h reporting, and governance tracking.',
            href: '/product/nis2',
            icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z',
            color: 'success',
            features: ['Country-specific wizard', 'Obligations catalog', '24h/72h incident workflow', 'Governance tracking'],
          },
          {
            title: 'Vendor Risk Management',
            desc: 'Assess and monitor third-party risk with supplier registers, dynamic questionnaires, AI-powered risk scoring, and posture tracking linked to your controls.',
            href: '/product/vendor-risk',
            icon: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z',
            color: 'critical',
            features: ['Supplier register', 'Dynamic questionnaires', 'AI risk scoring', 'Assessment workflows'],
          },
          {
            title: 'Evidence & Audit',
            desc: 'Upload, classify, and link evidence to controls. AI-powered tagging, OCR processing, and a complete audit trail for every action across the platform.',
            href: '/product',
            icon: 'M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z',
            color: 'primary',
            features: ['Evidence repository', 'AI classification', 'Multi-framework tagging', 'Full audit trail'],
          },
        ].map((mod, i) => (
          <AnimatedSection client:visible>
            <div class={`grid md:grid-cols-2 gap-8 items-center ${i % 2 !== 0 ? 'md:grid-flow-dense' : ''}`}>
              <div class={i % 2 !== 0 ? 'md:col-start-2' : ''}>
                <div class={`w-10 h-10 rounded-lg bg-${mod.color}-50 flex items-center justify-center mb-4`}>
                  <svg class={`w-5 h-5 text-${mod.color}`} fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d={mod.icon} />
                  </svg>
                </div>
                <h2 class="text-2xl font-bold text-text-primary mb-3">{mod.title}</h2>
                <p class="text-text-muted mb-4 leading-relaxed">{mod.desc}</p>
                <ul class="space-y-2 mb-6">
                  {mod.features.map((f: string) => (
                    <li class="flex items-center gap-2 text-sm text-text-primary">
                      <svg class="w-4 h-4 text-success shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                      {f}
                    </li>
                  ))}
                </ul>
                {mod.href !== '/product' && (
                  <a href={mod.href} class="inline-flex items-center gap-2 text-sm text-primary hover:text-primary-600 font-medium transition-colors">
                    Learn more
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                  </a>
                )}
              </div>
              <!-- Screenshot placeholder -->
              <div class={`bg-white rounded-2xl border border-border shadow-card p-4 ${i % 2 !== 0 ? 'md:col-start-1' : ''}`}>
                <div class="aspect-video bg-gradient-to-br from-primary-50 to-secondary-50 rounded-xl flex items-center justify-center">
                  <span class="text-sm text-text-muted">Screenshot — {mod.title}</span>
                </div>
              </div>
            </div>
          </AnimatedSection>
        ))}
      </div>
    </div>
  </section>

  <CTASection />
</BaseLayout>
